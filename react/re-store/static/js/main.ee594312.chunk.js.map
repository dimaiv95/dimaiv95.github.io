{"version":3,"sources":["components/error-indicator/error-indicator.png","components/book-list-item/index.js","components/book-list-item/book-list-item.js","components/bookstore-service-context/bookstore-service-context.js","components/hoc/withBookStoreService.js","actions/index.js","utils/compose.js","components/spiner/index.js","components/spiner/spiner.js","components/error-indicator/error-indicator.js","components/error-indicator/index.js","components/book-list/book-list.js","components/book-list/index.js","components/pages/home-page.js","components/shopping-cart-table/index.js","components/shopping-cart-table/shopping-cart-table.js","components/pages/card-page.js","components/book-item/book-item.js","components/book-item/index.js","components/shop-header/index.js","components/shop-header/shop-header.js","components/app/index.js","components/app/app.js","components/error-boundry/index.js","components/error-boundry/error-boundry.js","services/bookstore-service.js","reducers/book-list.js","reducers/shopping-cart.js","reducers/index.js","store.js","index.js"],"names":["module","exports","__webpack_require__","p","BookListItem","_ref","book","onAddedToCart","id","title","author","price","coverImg","react_default","a","createElement","className","src","alt","react_router_dom","to","concat","onClick","React","createContext","BookStoreServiceProvider","Provider","BookStoreServiceConsumer","Consumer","withBookStoreService","Wrapped","props","bookStoreService","Object","assign","booksLoaded","newBooks","type","payload","booksError","error","bookAddedToCart","bookId","fetchBooks","dispatch","getBooks","then","data","catch","err","compose","_len","arguments","length","func","Array","_key","component","reduceRight","prevResult","fn","Spiner","role","ErrorIndicator","message","errorIndicator","defaultProps","BookList","books","map","key","components_book_list_item","BookListContainer","this","_this$props","loading","components_spiner","components_error_indicator","book_list_BookList","Component","connect","_ref2","_ref2$bookList","bookList","ownProps","bindActionCreators","HomePage","components_book_list","ShoppingCartTable","_ref2$shoppingCart","shoppingCart","items","cartItems","total","orderTotal","onIncrease","onDecrease","onDelete","scope","item","idx","count","CardPage","components_shopping_cart_table","BookItem","match","params","loadingImg","fetchImg","find","_book","description","style","opacity","onLoad","_ref$bookList","article","withRouter","ShopHeader","numItem","reduce","prev","cur","App","components_shop_header","react_router","path","exact","ErrorBoundry","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","isError","setState","children","BookstoreService","Promise","resolve","reject","setTimeout","Math","random","updateBookList","action","undefined","objectSpread","updateCartItems","toConsumableArray","slice","updateOrder","quantity","_state$shoppingCart","itemIndex","findIndex","newItem","_item$id","_item$title","_item$count","_item$price","parseFloat","toFixed","updateCartItem","updateShoppingCart","console","log","_ref3","reducer","store","createStore","applyMiddleware","thunkMiddleware","next","timer","ReactDOM","render","es","error_boundry","value","components_app","document","getElementById"],"mappings":"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","file":"static/js/main.ee594312.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/error-indicator.00da8937.png\";","import BookListItem from \"./book-list-item\";\r\n\r\nexport default BookListItem;","import React from \"react\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport \"./book-list-item.scss\";\r\n\r\nconst BookListItem = ({ book, onAddedToCart }) => {\r\n    const { id, title, author, price, coverImg } = book;\r\n    return(\r\n        <div className=\"book-list-item\">\r\n            <div className=\"book-list-item__cover\">\r\n                <img src={coverImg} className=\"book-list-item__img\" alt={title} />\r\n            </div>\r\n            <div className=\"book-list-item__detail\">\r\n                <Link to={`article/${id}`} >{ title }</Link>\r\n                <span className=\"book-list-item__author\">{ author }</span>\r\n                <span className=\"book-list-item__price text-info\">${ price }</span>\r\n                <button\r\n                    className=\"btn btn-info add-to-card\"\r\n                    onClick={onAddedToCart} >Add to card</button>\r\n            </div>\r\n        </div>\r\n        \r\n    );\r\n};\r\n\r\nexport default BookListItem;","import React from \"react\";\r\n\r\nconst {\r\n    Provider: BookStoreServiceProvider,\r\n    Consumer: BookStoreServiceConsumer\r\n} = React.createContext();\r\n\r\nexport { BookStoreServiceProvider, BookStoreServiceConsumer };","import React from \"react\";\r\n\r\nimport { BookStoreServiceConsumer } from \"../bookstore-service-context\";\r\n\r\nconst withBookStoreService = () => (Wrapped) => {\r\n    return (props) => {\r\n        return( \r\n            <BookStoreServiceConsumer>\r\n                {\r\n                    (bookStoreService) => {\r\n                        return ( <Wrapped {...props} bookStoreService={bookStoreService} /> );\r\n                    }\r\n                }\r\n            </BookStoreServiceConsumer>\r\n        );\r\n    };\r\n};\r\n\r\nexport default withBookStoreService;","const booksRequested = () => {\r\n    return {\r\n        type: \"FETCH_BOOKS_REQUEST\",\r\n    }\r\n};\r\n\r\nconst booksLoaded = (newBooks) => {\r\n    return {\r\n        type: \"FETCH_BOOKS_SUCCESS\",\r\n        payload: newBooks\r\n    }\r\n};\r\n\r\nconst imgLoaded = () => {\r\n    return {\r\n        type: \"FETCH_IMG_SUCCESS\"\r\n    }\r\n};\r\n\r\nconst booksError = (error) => {\r\n    return {\r\n        type: \"FETCH_BOOKS_FAILURE\",\r\n        payload: error\r\n    }\r\n};\r\n\r\nconst bookAddedToCart = (bookId) => {\r\n    return {\r\n        type: \"BOOK_ADDED_TO_CART\",\r\n        payload: bookId\r\n    }\r\n};\r\n\r\nconst bookDeletedFromCart = (bookId) => {\r\n    return {\r\n        type: \"BOOK_DELETED_FROM_CART\",\r\n        payload: bookId\r\n    }\r\n};\r\n\r\nconst allBooksDeletedFromCart = (bookId) => {\r\n    return {\r\n        type: \"All_BOOKS_DELETED_FROM_CART\",\r\n        payload: bookId\r\n    }\r\n};\r\n\r\nconst fetchBooksOld = (bookStoreService, dispatch) => () => {\r\n    dispatch(booksRequested());\r\n    bookStoreService.getBooks()\r\n        .then((data) => {\r\n            dispatch(booksLoaded(data));\r\n        })\r\n        .catch((err) => {\r\n            dispatch(booksError(err));\r\n        });\r\n};\r\n\r\nconst fetchBooks = (bookStoreService) => () => (dispatch) => {\r\n    dispatch(booksRequested());\r\n    bookStoreService.getBooks()\r\n        .then((data) => {\r\n            dispatch(booksLoaded(data));\r\n        })\r\n        .catch((err) => {\r\n            dispatch(booksError(err));\r\n        });\r\n};\r\n\r\n\r\n\r\nexport {\r\n    fetchBooks,\r\n    imgLoaded,\r\n    bookAddedToCart,\r\n    bookDeletedFromCart,\r\n    allBooksDeletedFromCart\r\n};","const compose = (...func) => (component) => {\r\n    return func.reduceRight((prevResult, fn) => {\r\n        return fn(prevResult);\r\n    }, component);\r\n};\r\n\r\nexport default compose;","import Spiner from \"./spiner\";\r\n\r\nexport default Spiner;","import React from \"react\";\r\n\r\n\r\n const Spiner = () => {\r\n    return(\r\n        <div className=\"spinner-grow text-warning\" role=\"status\">\r\n            <span className=\"sr-only\">Loading...</span>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Spiner;\r\n","import React from \"react\";\r\n\r\nimport \"./error-indicator.scss\";\r\nimport errorIndicator from \"./error-indicator.png\";\r\n\r\n const ErrorIndicator = ({ message }) => {\r\n    return(\r\n        <div className=\"error-indicator\">\r\n            <div className=\"row justify-content-center\">\r\n                <div className=\"col text-center\">\r\n                    <div className=\"alert alert-danger mb-0 pt-4 pb-4\">\r\n                        <img src={ errorIndicator } className=\"error-indicator__img\" alt=\"Error indicator\" />\r\n                        <h2 className=\"error-indicator__title alert-heading\">Error</h2>\r\n                        <p className=\"error-indicator__text\">{ message }</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nErrorIndicator.defaultProps = {\r\n    message: \"Reload the page\"\r\n};\r\n\r\nexport default ErrorIndicator;","import ErrorIndicator from \"./error-indicator\";\r\n\r\nexport default ErrorIndicator;","import React, { Component } from \"react\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { connect } from 'react-redux';\r\n\r\nimport BookListItem from \"../book-list-item\";\r\nimport withBookStoreService from '../hoc/withBookStoreService';\r\n\r\nimport  { fetchBooks, bookAddedToCart } from \"../../actions\";\r\n\r\nimport { compose } from \"../../utils\";\r\n\r\nimport Spinner from \"../spiner\";\r\nimport ErrorIndicator from \"../error-indicator\";\r\n\r\nimport \"./book-list.scss\";\r\n\r\n\r\nconst BookList = ({ books, onAddedToCart }) => {\r\n    return(\r\n        <ul className=\"book-list row\">\r\n            {\r\n                books.map((book) => {\r\n                    return(\r\n                        <li key={book.id} className=\"book-list__item col-sm-6\">\r\n                            <BookListItem\r\n                                book={book}\r\n                                onAddedToCart={() => onAddedToCart(book.id)} />\r\n                        </li>\r\n                    );\r\n                })\r\n            }\r\n        </ul>\r\n    );\r\n};\r\n\r\nclass BookListContainer extends Component{\r\n\r\n    componentDidMount(){\r\n        this.props.fetchBooks();\r\n    }\r\n\r\n    render(){\r\n        const { books, loading, error, onAddedToCart } = this.props;\r\n\r\n        if(loading) {\r\n            return <Spinner />;\r\n        }\r\n\r\n        if(error){\r\n            return <ErrorIndicator message={error} />;\r\n        }\r\n\r\n        return <BookList books={books} onAddedToCart={onAddedToCart} />\r\n    }\r\n};\r\n\r\n\r\nconst mapStateToProps = ({ bookList: { books, loading, error }}) => {\r\n    return { books, loading, error };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch, ownProps) => {\r\n\r\n    const { bookStoreService } = ownProps;\r\n\r\n    return bindActionCreators({\r\n        fetchBooks: fetchBooks(bookStoreService),\r\n        onAddedToCart: bookAddedToCart\r\n    }, dispatch);\r\n}; \r\n\r\nexport default compose(\r\n    withBookStoreService(),\r\n    connect(mapStateToProps, mapDispatchToProps)\r\n)(BookListContainer);","import BookList from \"./book-list\";\r\n\r\nexport default BookList;","import React from \"react\";\r\n\r\nimport BookList from \"../book-list\";\r\n\r\nconst HomePage = () => {\r\n    return(\r\n        <BookList />\r\n    );\r\n};\r\n\r\nexport default HomePage;","import ShoppingCartTable from \"./shopping-cart-table\";\r\n\r\nexport default ShoppingCartTable;","import React from \"react\";\r\nimport { connect } from 'react-redux';\r\n\r\nimport  { bookDeletedFromCart, allBooksDeletedFromCart, bookAddedToCart } from \"../../actions\";\r\n\r\nimport \"./shopping-cart-table.scss\";\r\n\r\nconst ShoppingCartTable = ({ items, total, onIncrease, onDecrease, onDelete }) => {\r\n\r\n    const renderRow = (item, idx) => {\r\n        const { id, title, count, price } = item;\r\n        return (\r\n            <tr key={idx + 1}>\r\n                <td>{ idx + 1 }</td>\r\n                <td>{ title }</td>\r\n                <td>{ count }</td>\r\n                <td>${ price }</td>\r\n                <td className=\"text-right\">\r\n                    <button\r\n                        type=\"button\"\r\n                        className=\"shopping-cart-table__btn btn btn-outline-success\"\r\n                        onClick={() => onIncrease(id)}>\r\n                        <i className=\"fa fa-plus-circle\"></i>\r\n                    </button>\r\n                    <button\r\n                        type=\"button\"\r\n                        className=\"shopping-cart-table__btn btn btn-outline-warning\"\r\n                        onClick={() => onDecrease(id)}>\r\n                        <i className=\"fa fa-minus-circle\"></i>\r\n                    </button>\r\n                    <button\r\n                        type=\"button\"\r\n                        className=\"shopping-cart-table__btn btn btn-outline-danger\"\r\n                        onClick={() => onDelete(id)}>\r\n                        <i className=\"fa fa-trash\"></i>\r\n                    </button>\r\n                </td>\r\n            </tr>\r\n        );   \r\n    };\r\n\r\n    return(\r\n        <div className=\"shopping-cart-table\">\r\n            <h2>Your Order</h2>\r\n            <table className=\"table\">\r\n                <thead>\r\n                    <tr>\r\n                        <th scope=\"col\">#</th>\r\n                        <th scope=\"col\">Item</th>\r\n                        <th scope=\"col\">Count</th>\r\n                        <th scope=\"col\">Price</th>\r\n                        <th scope=\"col\" className=\"text-right\">Actions</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {\r\n                        items.map( renderRow )\r\n                    }\r\n                   \r\n                </tbody>\r\n            </table>\r\n            <div className=\"shopping-cart-table__total\">Total: ${ total }</div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = ({ shoppingCart: { cartItems, orderTotal }}) => {\r\n    return {\r\n        items: cartItems,\r\n        total: orderTotal\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        onIncrease: (id) => {\r\n            dispatch(bookAddedToCart(id));\r\n        },\r\n        onDecrease: (id) => {\r\n            dispatch(bookDeletedFromCart(id));\r\n        },\r\n        onDelete: (id) => {\r\n            dispatch(allBooksDeletedFromCart(id));\r\n        },\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ShoppingCartTable);","import React from \"react\";\r\n\r\nimport ShoppingCartTable from \"../shopping-cart-table\";\r\n\r\nconst CardPage = () => {\r\n    return(\r\n        <ShoppingCartTable />\r\n    );\r\n};\r\n\r\nexport default CardPage;","import React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { connect } from 'react-redux';\r\n\r\n\r\nimport withBookStoreService from '../hoc/withBookStoreService';\r\n\r\nimport { compose } from \"../../utils\"\r\n\r\nimport { fetchBooks, bookAddedToCart, imgLoaded } from \"../../actions\"\r\nimport Spinner from \"../spiner\";\r\nimport ErrorIndicator from \"../error-indicator\";\r\n\r\nimport \"./book-item.scss\";\r\n\r\n\r\nclass BookItem extends Component{\r\n\r\n    componentDidMount(){\r\n        const { id } = this.props.match.params;\r\n\r\n        this.props.fetchBooks();\r\n    }\r\n\r\n    render(){\r\n\r\n        const { id } = this.props.match.params;\r\n\r\n        const { books, loading, loadingImg, error, onAddedToCart, fetchImg } = this.props;\r\n        let book;\r\n\r\n        if(loading){\r\n            return <Spinner />\r\n        }\r\n        if(error){\r\n            return <ErrorIndicator message={error} />;\r\n        }\r\n\r\n        if(books.length){\r\n            book = books.find((book) => {\r\n                return book.id == id;\r\n            });\r\n        }\r\n\r\n        const { title, coverImg, price, description } = book;\r\n\r\n        const style = loadingImg ? {opacity: 1} : {opacity: 0};\r\n\r\n        return(\r\n            <div className=\"book-item row\">\r\n                <figure className=\"book-item__figure col-sm-4\">\r\n                    <div className=\"book-item__loading-img\" style={style} ></div>\r\n                    <img src={ coverImg } alt={ title } className=\"book-item__img\" onLoad={ () => fetchImg() }  />\r\n                </figure>\r\n                <div className=\"book-item__about-product col-sm-8\">\r\n                    <h2 className=\"book-item__title\">{ title }</h2>\r\n                    <p className=\"book-item__discription\">{ description }</p>\r\n                    <h3 className=\"book-item__price\">${ price }</h3>\r\n                    <button\r\n                        className=\"btn btn-info add-to-card\"\r\n                        onClick={() => onAddedToCart(id)} >Add to card</button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nconst mapStateToProps = ({ bookList: { books, article, loading, loadingImg, error }}) => {\r\n\r\n    return {\r\n        books,\r\n        article,\r\n        loading,\r\n        loadingImg,\r\n        error\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch, ownProps) => {\r\n    const { bookStoreService } = ownProps;\r\n    return {\r\n        fetchBooks: () => dispatch(fetchBooks(bookStoreService)()),\r\n        fetchImg: () => dispatch(imgLoaded()),\r\n        onAddedToCart: (id) => dispatch(bookAddedToCart(id))\r\n    };\r\n};\r\n\r\nexport default compose(\r\n    withBookStoreService(),\r\n    connect(mapStateToProps, mapDispatchToProps),\r\n    withRouter\r\n)(BookItem);","import BookItem from \"./book-item\";\r\n\r\nexport default BookItem;","import ShopHeader from \"./shop-header\";\r\n\r\nexport default ShopHeader;","import React from \"react\";\r\nimport { connect } from 'react-redux';\r\n\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport \"./shop-header.scss\"\r\n\r\n\r\nconst ShopHeader = ({ items, total }) => {\r\n\r\n    const numItem = items.length ? items\r\n                                    .map((item) => item.count)\r\n                                    .reduce((prev, cur) => prev + cur)\r\n                                : 0;\r\n\r\n    return (\r\n        <div className=\"shop-header\">\r\n            <Link to=\"/\" className={\"shop-header__title\"} >ReStore</Link>\r\n            <Link to=\"/cart\" className={\"shop-header__cart\"} >\r\n                <i className=\"fa fa-shopping-cart\"></i>\r\n                {numItem} items ( ${total} )\r\n            </Link>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = ({ shoppingCart: { cartItems, orderTotal }}) => {\r\n    return {\r\n        items: cartItems,\r\n        total: orderTotal\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps)(ShopHeader);","import App from \"./app\";\r\n\r\nexport default App;","import React, { Component } from \"react\";\r\nimport { Switch, Route } from \"react-router-dom\";\r\n\r\nimport \"./app.scss\";\r\n\r\nimport { HomePage, CardPage } from \"../pages\";\r\nimport BookItem from \"../book-item\";\r\nimport ShopHeader from \"../shop-header\";\r\n\r\nclass App extends Component {\r\n\r\n    render(){\r\n        return(\r\n            <div className=\"app\">\r\n                <ShopHeader numItem={5} total={210} />\r\n               \r\n                <Switch>\r\n                    <Route path=\"/\" component={HomePage} exact />\r\n                    <Route path=\"/cart\" component={CardPage} />\r\n                    <Route path=\"/article/:id\" component={BookItem} />\r\n                </Switch>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default App;","import ErrorBoundry from \"./error-boundry\";\r\n\r\nexport default ErrorBoundry;","import React, { Component } from \"react\";\r\n\r\nimport ErrorIndicator from '../error-indicator';\r\n\r\nexport default class ErrorBoundry extends Component{\r\n\r\n    constructor(){\r\n        super();\r\n\r\n        this.state = {\r\n            isError: false\r\n        }\r\n    }\r\n\r\n    componentDidCatch(){\r\n        this.setState({\r\n            isError: true\r\n        });\r\n    }\r\n\r\n    render(){\r\n        if(this.state.isError){\r\n            return <ErrorIndicator />;\r\n        }\r\n        return this.props.children;\r\n    }\r\n};","export default class BookstoreService {\r\n\r\n    data = [\r\n        {\r\n            id: 1,\r\n            title: \"JavaScript: The Definitive Guide\",\r\n            author: \"David Flanagan\",\r\n            price: 35,\r\n            coverImg: \"https://images-na.ssl-images-amazon.com/images/I/71oUHJ6uO7L.jpg\",\r\n            description: \"Since 1996, JavaScript: The Definitive Guide has been the bible for JavaScript programmers—a programmer\\'s guide and comprehensive reference to the core language and to the client-side JavaScript APIs defined by web browsers. The 6th edition covers HTML5 and ECMAScript 5. Many chapters have been completely rewritten to bring them in line with today's best web development practices. New chapters in this edition document jQuery and server side JavaScript. It\\'s recommended for experienced programmers who want to learn the programming language of the Web, and for current JavaScript programmers who want to master it.\"\r\n        },\r\n        {\r\n            id: 2,\r\n            title: \"JavaScript Patterns\",\r\n            author: \"Stoyan Stefanov\",\r\n            price: 13.49,\r\n            coverImg: \"https://images-na.ssl-images-amazon.com/images/I/511Gt98oEAL._SX379_BO1,204,203,200_.jpg\",\r\n            description: \"What\\'s the best approach for developing an application with JavaScript? This book helps you answer that question with numerous JavaScript coding patterns and best practices. If you\\'re an experienced developer looking to solve problems related to objects, functions, inheritance, and other language-specific categories, the abstractions and code templates in this guide are ideal—whether you're using JavaScript to write a client-side, server-side, or desktop application.\"\r\n        },\r\n        {\r\n            id: 3,\r\n            title: \"JavaScript Performance\",\r\n            author: \"Nikolas Zakas\",\r\n            price: 13.49,\r\n            coverImg: \"https://ozon-st.cdn.ngenix.net/multimedia/1005511392.jpg\",\r\n            description: \"If you\\'re like most developers, you rely heavily on JavaScript to build interactive and quick-responding web applications. The problem is that all of those lines of JavaScript code can slow down your apps. This book reveals techniques and strategies to help you eliminate performance bottlenecks during development. You'll learn how to improve execution time, downloading, interaction with the DOM, page life cycle, and more.\"\r\n        }\r\n    ];\r\n\r\n    getBooks(){\r\n        return new Promise((resolve, reject) => {\r\n            setTimeout(() => {\r\n                if(Math.random() > 0.90){\r\n                    reject(\"Something bad happened\"); \r\n                }\r\n                else{\r\n                    resolve(this.data);\r\n                }\r\n                \r\n            }, 1000)\r\n        });\r\n    }\r\n\r\n}","const updateBookList = (state, action) => {\r\n    \r\n    if(state === undefined){\r\n        return {\r\n            books: [],\r\n            loading: true,\r\n            loadingImg: true,\r\n            error: null,\r\n        };\r\n    }\r\n\r\n    switch(action.type){\r\n        case \"FETCH_BOOKS_REQUEST\":\r\n            return {\r\n                books: [],\r\n                loading: true,\r\n                loadingImg: true,\r\n                error: null\r\n            };\r\n        case \"FETCH_BOOKS_SUCCESS\":\r\n            return {\r\n                books: action.payload,\r\n                loading: false,\r\n                loadingImg: true,\r\n                error: null\r\n            };\r\n        case \"FETCH_IMG_SUCCESS\":\r\n            return {\r\n                ...state.bookList,\r\n                loadingImg: false,\r\n            };\r\n        case \"FETCH_BOOKS_FAILURE\":\r\n            return {\r\n                books: [],\r\n                loading: false,\r\n                loadingImg: false,\r\n                error: action.payload\r\n            };\r\n        default:\r\n            return state.bookList;\r\n    }\r\n\r\n};\r\n\r\nexport default updateBookList;","const updateCartItems = (cartItems, item, idx) => {\r\n\r\n    if(item.count === 0){\r\n        return [\r\n            ...cartItems.slice(0, idx),\r\n            ...cartItems.slice(idx + 1)\r\n        ]; \r\n    }\r\n\r\n    if(idx === -1){\r\n        return [\r\n            ...cartItems,\r\n            item\r\n        ];\r\n    }\r\n\r\n    return [\r\n        ...cartItems.slice(0, idx),\r\n        item,\r\n        ...cartItems.slice(idx + 1)\r\n    ];\r\n\r\n};\r\n\r\nconst updateCartItem = (book, item = {}, quantity) => {\r\n\r\n    const {\r\n        id = book.id,\r\n        title = book.title,\r\n        count = 0,\r\n        price = 0\r\n    } = item;\r\n\r\n    return {\r\n        id,\r\n        title,\r\n        count : count + quantity,\r\n        price: parseFloat((price + quantity * book.price).toFixed(2))\r\n    }; \r\n};\r\n\r\nconst updateOrder = ( state, bookId, quantity ) => {\r\n    const { bookList: { books }, shoppingCart: { cartItems, orderTotal } } = state;\r\n\r\n    const book = books.find(({ id }) => id == bookId);\r\n\r\n    const itemIndex = cartItems.findIndex(({ id }) => id == bookId);\r\n\r\n    const item = cartItems[itemIndex];\r\n\r\n    const newItem = updateCartItem(book, item, quantity);\r\n\r\n    return {\r\n        orderTotal: parseFloat((orderTotal + quantity * book.price).toFixed(2)),\r\n        cartItems: updateCartItems(cartItems, newItem, itemIndex)\r\n    };\r\n}\r\n\r\n\r\nconst updateShoppingCart = (state, action) => {\r\n    \r\n    if(state === undefined){\r\n        return {\r\n            cartItems: [],\r\n            orderTotal: 0\r\n        };\r\n    }\r\n\r\n    switch(action.type){\r\n        case \"BOOK_ADDED_TO_CART\":\r\n            console.log(\"Redux \", action.payload);\r\n            return updateOrder(state, action.payload, 1);\r\n\r\n        case \"BOOK_DELETED_FROM_CART\":\r\n            return updateOrder(state, action.payload, -1);\r\n\r\n        case \"All_BOOKS_DELETED_FROM_CART\":\r\n            const item = state.shoppingCart.cartItems.find(({ id }) => id === action.payload);\r\n            return updateOrder(state, action.payload, -item.count);\r\n        default:\r\n            return state.shoppingCart;\r\n    }\r\n\r\n};\r\n\r\nexport default updateShoppingCart;","import updateBookList from \"./book-list\";\r\nimport updateShoppingCart from \"./shopping-cart\";\r\n\r\nconst reducer = (state, action) => {\r\n    return {\r\n        bookList: updateBookList(state, action),\r\n        shoppingCart: updateShoppingCart(state, action)\r\n    };\r\n};\r\n\r\nexport default reducer;","import { createStore, applyMiddleware } from \"redux\";\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport reducer from './reducers';\r\n\r\n\r\nconst logMiddleware = () => (next) => (action) => {   \r\n    console.log(action.type);\r\n    return next(action);\r\n}\r\n\r\nconst stringMiddleware = () => (next) => (action) => {\r\n    if(typeof action === \"string\"){\r\n        return next({\r\n            type: action\r\n        });\r\n    }\r\n    return next(action);\r\n}\r\n\r\n\r\nconst store = createStore(reducer, applyMiddleware(thunkMiddleware, stringMiddleware, logMiddleware));\r\n\r\nstore.dispatch(\"HELLO_WORLD\");\r\n\r\nconst myAction = (dispatch) => {\r\n    setTimeout(() => dispatch({\r\n        type: \"DELAYED_ACTION\"\r\n    }), 3000);\r\n};\r\n\r\nconst delayedActionCreator = (timer) => (dispatch) => {\r\n    setTimeout(() => dispatch({\r\n        type: \"DELAYED_ACTION\"\r\n    }), timer);\r\n};\r\n\r\nstore.dispatch(delayedActionCreator(3000));\r\n\r\nexport default store;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport { HashRouter as Router } from \"react-router-dom\";\r\n\r\nimport App from \"./components/app\";\r\nimport ErrorBoundry from \"./components/error-boundry\";\r\nimport BookstoreService from './services/bookstore-service';\r\nimport { BookStoreServiceProvider } from \"./components/bookstore-service-context\";\r\n\r\nimport store from './store';\r\n\r\nimport \"./index.scss\"\r\n\r\nconst bookStoreService = new BookstoreService();\r\n\r\nReactDOM.render(\r\n    <Provider store={store} >\r\n        <ErrorBoundry>\r\n            <BookStoreServiceProvider value={bookStoreService} >\r\n                <Router>\r\n                    <App />\r\n                </Router>\r\n            </BookStoreServiceProvider>\r\n        </ErrorBoundry>\r\n    </Provider>,\r\n    document.getElementById(\"root\"));"],"sourceRoot":""}